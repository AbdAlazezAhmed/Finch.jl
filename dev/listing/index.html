<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>The Deets · Finch.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://willow-ahrens.github.io/Finch.jl/listing/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Finch.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../getting_started/">Getting Started</a></li><li><a class="tocitem" href="../level/">Level Formats</a></li><li class="is-active"><a class="tocitem" href>The Deets</a></li><li><a class="tocitem" href="../embed/">Embedding</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>The Deets</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>The Deets</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/willow-ahrens/Finch.jl/blob/master/docs/src/listing.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Public-Functions"><a class="docs-heading-anchor" href="#Public-Functions">Public Functions</a><a id="Public-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Public-Functions" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="Finch.Environment" href="#Finch.Environment"><code>Finch.Environment</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Environment([parent]; kwargs...)</code></pre><p>An environment can be thought of as the argument to a level that yeilds a fiber. Environments also allow parents levels to pass attributes to their children.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/environments.jl#L23-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.Fiber" href="#Finch.Fiber"><code>Finch.Fiber</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Fiber(lvl, env=Environment())</code></pre><p>A fiber is a combination of a (possibly nested) level <code>lvl</code> and an environment <code>env</code>. The environment is often used to refer to a particular fiber within the level. Fibers are arrays, of sorts. The function <code>refindex(fbr, i...)</code> is used as a reference implementation of getindex for the fiber. Accessing an <code>N</code>-dimensional fiber with less than <code>N</code> indices will return another fiber.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/fibers.jl#L3-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.Finalize" href="#Finch.Finalize"><code>Finch.Finalize</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Finalize(ctx)</code></pre><p>A transformation to finalize output tensors before they leave scope and are returned to the caller.</p><p>See also: <a href="#Finch.finalize!-Tuple{Finch.VirtualFiber, Finch.LowerJulia, Any, Vararg{Any}}"><code>finalize!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/execute.jl#L158-L165">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.Initialize" href="#Finch.Initialize"><code>Finch.Initialize</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Initialize(ctx)</code></pre><p>A transformation to initialize tensors that have just entered into scope.</p><p>See also: <a href="#Finch.initialize!-Tuple{Finch.VirtualFiber, Finch.LowerJulia, Any, Vararg{Any}}"><code>initialize!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/execute.jl#L120-L126">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.LowerJulia-Tuple{Any, Finch.DimensionalizeStyle}" href="#Finch.LowerJulia-Tuple{Any, Finch.DimensionalizeStyle}"><code>Finch.LowerJulia</code></a> — <span class="docstring-category">Method</span></header><section><div><p>TODO out of date     dimensionalize!(prgm, ctx)</p><p>A program traversal which gathers dimensions of tensors based on shared indices. Index sharing is transitive, so <code>A[i] = B[i]</code> and <code>B[j] = C[j]</code> will induce a gathering of the dimensions of <code>A</code>, <code>B</code>, and <code>C</code> into one. The resulting dimensions are gathered into a <code>Dimensions</code> object, which can be accesed with an index name or a <code>(tensor_name, mode_name)</code> tuple.</p><p>The program is assumed to be in SSA form.</p><p>See also: <a href="#Finch.getsize"><code>getsize</code></a>, <a href="#Finch.getsites"><code>getsites</code></a>, <a href="#Finch.combinedim-Tuple{Any, Any}"><code>combinedim</code></a>, <a href="#Finch.TransformSSA"><code>TransformSSA</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/dimensionalize.jl#L66-L80">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.TransformSSA" href="#Finch.TransformSSA"><code>Finch.TransformSSA</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">TransformSSA(freshen)</code></pre><p>A transformation of a program to SSA form. Fresh names will be generated with <code>freshen(name)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/transform_ssa.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.VirtualEnvironment" href="#Finch.VirtualEnvironment"><code>Finch.VirtualEnvironment</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">VirtualEnvironment([parent]; kwargs...)</code></pre><p>In addition to holding information about the environment instance itself, virtual environments may also hold information about the scope that this fiber lives in.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/environments.jl#L61-L67">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.VirtualFiber" href="#Finch.VirtualFiber"><code>Finch.VirtualFiber</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">VirtualFiber(lvl, env)</code></pre><p>A virtual fiber is the avatar of a fiber for the purposes of compilation. Two fibers should share a <code>name</code> only if they hold the same data. <code>lvl</code> is a virtual object representing the level nest and <code>env</code> is a virtual object representing the environment.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/fibers.jl#L19-L26">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.combinedim-Tuple{Any, Any}" href="#Finch.combinedim-Tuple{Any, Any}"><code>Finch.combinedim</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">combinedim(a, b)</code></pre><p>Combine the two dimensions <code>a</code> and <code>b</code>.  To avoid ambiguity, only define one of</p><pre><code class="nohighlight hljs">combinedim(::A, ::B)
combinedim(::B, ::A)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/dimensionalize.jl#L191-L200">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.default" href="#Finch.default"><code>Finch.default</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">default(fbr)</code></pre><p>The default for a fiber is the value that each element of the fiber will have after initialization. This value is most often zero, and defaults to nothing.</p><p>See also: <a href="#Finch.initialize!-Tuple{Finch.VirtualFiber, Finch.LowerJulia, Any, Vararg{Any}}"><code>initialize!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/fibers.jl#L54-L61">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.envcoordinate-Tuple{Union{Finch.VirtualEnvironment, Finch.Environment}}" href="#Finch.envcoordinate-Tuple{Union{Finch.VirtualEnvironment, Finch.Environment}}"><code>Finch.envcoordinate</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">envcoordinate(env)</code></pre><p>Get the coordinate (index) in the previous environment.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/environments.jl#L101-L105">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.envdefaultcheck-Tuple{Any}" href="#Finch.envdefaultcheck-Tuple{Any}"><code>Finch.envdefaultcheck</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">envdefaultcheck(env)</code></pre><p>Return a variable which should be set to false if the subfiber is not entirely default.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/environments.jl#L132-L136">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.envdepth-Tuple{Any}" href="#Finch.envdepth-Tuple{Any}"><code>Finch.envdepth</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">envdepth()</code></pre><p>Return the number of accesses (coordinates) unfurled so far in this environment.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/environments.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.envexternal-Tuple{Union{Finch.VirtualEnvironment, Finch.Environment}}" href="#Finch.envexternal-Tuple{Union{Finch.VirtualEnvironment, Finch.Environment}}"><code>Finch.envexternal</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">envexternal(env)</code></pre><p>Strip environments which are internal to the level, leaving the parent environment of the level.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/environments.jl#L109-L113">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.envname-Tuple{Any}" href="#Finch.envname-Tuple{Any}"><code>Finch.envname</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">envname()</code></pre><p>The name of the tensor when it was last named.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/environments.jl#L8-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.envposition-Tuple{Finch.Environment}" href="#Finch.envposition-Tuple{Finch.Environment}"><code>Finch.envposition</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">envposition(env)</code></pre><p>Get the position in the environment. The position is an integer identifying which fiber to access in a level.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/environments.jl#L93-L98">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.envreinitialized-Tuple{Any}" href="#Finch.envreinitialized-Tuple{Any}"><code>Finch.envreinitialized</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">envreinitialized(env)</code></pre><p>did the previous level selectively initialize this one?</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/environments.jl#L146-L150">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.f_code-Tuple{Val{:d}}" href="#Finch.f_code-Tuple{Val{:d}}"><code>Finch.f_code</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>f_code(d)</code> = <a href="@ref">DenseLevel</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/denselevels.jl#L10-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.f_code-Tuple{Val{:e}}" href="#Finch.f_code-Tuple{Val{:e}}"><code>Finch.f_code</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>f_code(e)</code> = <a href="@ref">ElementLevel</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/elementlevels.jl#L11-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.f_code-Tuple{Val{:p}}" href="#Finch.f_code-Tuple{Val{:p}}"><code>Finch.f_code</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>f_code(p)</code> = <a href="@ref">PatternLevel</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/patternlevels.jl#L4-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.f_code-Tuple{Val{:rl}}" href="#Finch.f_code-Tuple{Val{:rl}}"><code>Finch.f_code</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>f_code(rl)</code> = <a href="@ref">RepeatRLELevel</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/repeatrlelevels.jl#L16-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.f_code-Tuple{Val{:sc}}" href="#Finch.f_code-Tuple{Val{:sc}}"><code>Finch.f_code</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>f_code(sc)</code> = <a href="@ref">SparseCooLevel</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/sparsecoolevels.jl#L18-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.f_code-Tuple{Val{:sh}}" href="#Finch.f_code-Tuple{Val{:sh}}"><code>Finch.f_code</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>f_code(sh)</code> = <a href="@ref">SparseHashLevel</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/sparsehashlevels.jl#L25-L27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.f_code-Tuple{Val{:sl}}" href="#Finch.f_code-Tuple{Val{:sl}}"><code>Finch.f_code</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>f_code(l)</code> = <a href="@ref">SparseListLevel</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/sparselistlevels.jl#L15-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.f_code-Tuple{Val{:sm}}" href="#Finch.f_code-Tuple{Val{:sm}}"><code>Finch.f_code</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>f_code(sm)</code> = <a href="@ref">SparseBytemapLevel</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/sparsebytemaplevels.jl#L22-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.f_code-Tuple{Val{:sv}}" href="#Finch.f_code-Tuple{Val{:sv}}"><code>Finch.f_code</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>f_code(sv)</code> = <a href="@ref">SparseVBLLevel</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/sparsevbllevels.jl#L16-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.ffindnz-Tuple{Any}" href="#Finch.ffindnz-Tuple{Any}"><code>Finch.ffindnz</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ffindnz(arr)</code></pre><p>Return the nonzero elements of <code>arr</code>, as Finch understands <code>arr</code>. Returns <code>(I, V)</code>, where <code>I</code> is a tuple of coordinate vectors, one for each mode of <code>arr</code>, and <code>V</code> is a vector of corresponding nonzero values, which can be passed to <a href="#Finch.fsparse"><code>fsparse</code></a>.</p><p>See also: (<code>findnz</code>)(https://docs.julialang.org/en/v1/stdlib/SparseArrays/#SparseArrays.findnz)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/fibers_meta.jl#L186-L195">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.fiber" href="#Finch.fiber"><code>Finch.fiber</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">fiber(arr, default = zero(eltype(arr)))</code></pre><p>Copies an array-like object <code>arr</code> into a corresponding, similar <code>Fiber</code> datastructure. <code>default</code> is the default value to use for initialization and sparse compression.</p><p>See also: <a href="../level/#Finch.fiber!"><code>fiber!</code></a></p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; println(summary(fiber(sparse([1 0; 0 1]))))
2×2 @fiber(d(sl(e(0))))

julia&gt; println(summary(fiber(ones(3, 2, 4))))
3×2×4 @fiber(d(d(d(e(0.0)))))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/fibers_meta.jl#L10-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.fiber!" href="#Finch.fiber!"><code>Finch.fiber!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">fiber!(arr, default = zero(eltype(arr)))</code></pre><p>Like <a href="../level/#Finch.fiber"><code>fiber</code></a>, copies an array-like object <code>arr</code> into a corresponding, similar <code>Fiber</code> datastructure. However, <code>fiber!</code> reuses memory whenever possible, meaning <code>arr</code> may be rendered unusable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/fibers_meta.jl#L1-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.finalize!-Tuple{Finch.VirtualFiber, Finch.LowerJulia, Any, Vararg{Any}}" href="#Finch.finalize!-Tuple{Finch.VirtualFiber, Finch.LowerJulia, Any, Vararg{Any}}"><code>Finch.finalize!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">finalize!(fbr, ctx, mode, idxs...)</code></pre><p>Finalize the virtual fiber in the context <code>ctx</code> with access mode <code>mode</code>. Return the new fiber object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/fibers.jl#L90-L95">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.finalize_level!" href="#Finch.finalize_level!"><code>Finch.finalize_level!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">finalize_level!(fbr, ctx, mode)</code></pre><p>Finalize the level within the virtual fiber. These are the bulk cleanup steps.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/fibers.jl#L104-L108">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.fsparse" href="#Finch.fsparse"><code>Finch.fsparse</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">fsparse(I::Tuple, V,[ M::Tuple, combine])</code></pre><p>Create a sparse COO fiber <code>S</code> such that <code>size(S) == M</code> and <code>S[(i[q] for i = I)...] = V[q]</code>. The combine function is used to combine duplicates. If <code>M</code> is not specified, it is set to <code>map(maximum, I)</code>. If the combine function is not supplied, combine defaults to <code>+</code> unless the elements of V are Booleans in which case combine defaults to <code>|</code>. All elements of I must satisfy 1 &lt;= I[n][q] &lt;= M[n].  Numerical zeros are retained as structural nonzeros; to drop numerical zeros, use dropzeros!.</p><p>See also: <a href="https://docs.julialang.org/en/v1/stdlib/SparseArrays/#SparseArrays.sparse"><code>sparse</code></a></p><p><strong>Examples</strong></p><p>julia&gt; I = (     [1, 2, 3],     [1, 2, 3],     [1, 2, 3]);</p><p>julia&gt; V = [1.0; 2.0; 3.0];</p><p>julia&gt; fsparse(I, V) SparseCoo (0.0) [1:3×1:3×1:3] │ │ │  └─└─└─[1, 1, 1] [2, 2, 2] [3, 3, 3]       1.0       2.0       3.0    </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/fibers_meta.jl#L57-L84">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.fsparse!" href="#Finch.fsparse!"><code>Finch.fsparse!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">fsparse!(I::Tuple, V,[ M::Tuple])</code></pre><p>Like <a href="#Finch.fsparse"><code>fsparse</code></a>, but the coordinates must be sorted and unique, and memory is reused.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/fibers_meta.jl#L110-L115">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.fsprand-Tuple{Tuple, Vararg{Any}}" href="#Finch.fsprand-Tuple{Tuple, Vararg{Any}}"><code>Finch.fsprand</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fsprand([rng],[type], m::Tuple,p::AbstractFloat,[rfn])</code></pre><p>Create a random sparse tensor of size <code>m</code> in COO format, in which the probability of any element being nonzero is independently given by <code>p</code> (and hence the mean density of nonzeros is also exactly <code>p</code>). Nonzero values are sampled from the distribution specified by <code>rfn</code> and have the type <code>type</code>. The uniform distribution is used in case <code>rfn</code> is not specified. The optional <code>rng</code> argument specifies a random number generator.</p><p>See also: (<code>sprand</code>)(https://docs.julialang.org/en/v1/stdlib/SparseArrays/#SparseArrays.sprand)</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; fsprand(Bool, (3, 3), 0.5)
SparseCoo (false) [1:3×1:3]
│ │
└─└─[1, 1] [1, 3] [2, 2] [2, 3] [3, 3]
    true   true   true   true   true  

julia&gt; fsprand(Float64, (2, 2, 2), 0.5)
SparseCoo (0.0) [1:2×1:2×1:2]
│ │ │
└─└─└─[1, 2, 2] [2, 1, 1] [2, 1, 2]
      0.647855  0.996665  0.749194 </code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/fibers_meta.jl#L120-L146">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.fspzeros-Tuple{Any}" href="#Finch.fspzeros-Tuple{Any}"><code>Finch.fspzeros</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fspzeros([type], shape::Tuple)</code></pre><p>Create a random zero tensor of size <code>m</code>, with elements of type <code>type</code>. The tensor is in COO format.</p><p>See also: (<code>spzeros</code>)(https://docs.julialang.org/en/v1/stdlib/SparseArrays/#SparseArrays.spzeros)</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; fspzeros(Bool, (3, 3))
SparseCoo (false) [1:3×1:3]
│ │
└─└─
    
julia&gt; fspzeros(Float64, (2, 2, 2))
SparseCoo (0.0) [1:2×1:2×1:2]
│ │ │
└─└─└─</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/fibers_meta.jl#L160-L180">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.getdefaultcheck-Tuple{Any}" href="#Finch.getdefaultcheck-Tuple{Any}"><code>Finch.getdefaultcheck</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">getdefaultcheck(env)</code></pre><p>Return a variable which should be set to false if the subfiber is not entirely default.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/environments.jl#L125-L129">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.getname" href="#Finch.getname"><code>Finch.getname</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getname(ex)</code></pre><p>Return the name of the index expression <code>ex</code>. The name serves as a unique identifier and often corresponds to the variable name which holds a tensor. Tensors can have the same name only if they are <code>===</code> to each other. The names of indices are used to distinguish the loops they reference.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/semantics.jl#L24-L31">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.getresults" href="#Finch.getresults"><code>Finch.getresults</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getresults(stmt)</code></pre><p>Return an iterator over the result tensors of an index expression. For example, <code>where</code> statements return the results of the consumer, not the producer, and assignments return their left hand sides.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/semantics.jl#L1-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.getsites" href="#Finch.getsites"><code>Finch.getsites</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getsites(tns)</code></pre><p>Return an iterable over the identities of the modes of <code>tns</code>. If <code>tns_2</code> is a transpose of <code>tns</code>, then <code>getsites(tns_2)</code> should be a permutation of <code>getsites(tns)</code> corresponding to the order in which modes have been permuted.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/dimensionalize.jl#L331-L337">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.getsize" href="#Finch.getsize"><code>Finch.getsize</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getsize(tns, ctx, mode)</code></pre><p>Return an iterable over the dimensions of <code>tns</code> in the context <code>ctx</code> with access mode <code>mode</code>. This is a function similar in spirit to <code>Base.axes</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/dimensionalize.jl#L323-L328">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.getunbound-Tuple{Any}" href="#Finch.getunbound-Tuple{Any}"><code>Finch.getunbound</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">getunbound(stmt)</code></pre><p>Return an iterator over the names in an index expression that have yet to be bound.</p><pre><code class="language-julia hljs">julia&gt; getunbound(@finch_program @loop i :a[i, j] += 2)
[j]
julia&gt; getunbound(@finch_program i + j * 2 * i)
[i, j]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/semantics.jl#L10-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.getvalue-Tuple{Any}" href="#Finch.getvalue-Tuple{Any}"><code>Finch.getvalue</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">getvalue(ex)</code></pre><p>If <code>isliteral(ex)</code> is <code>true</code>, return the value of <code>ex</code>. Defaults to the identity.</p><p>See also: <a href="@ref"><code>isliteral</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/semantics.jl#L41-L48">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.hasdefaultcheck-Tuple{Any}" href="#Finch.hasdefaultcheck-Tuple{Any}"><code>Finch.hasdefaultcheck</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">hasdefaultcheck(lvl)</code></pre><p>Can the level check whether it is entirely default?</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/environments.jl#L118-L122">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.initialize!-Tuple{Finch.VirtualFiber, Finch.LowerJulia, Any, Vararg{Any}}" href="#Finch.initialize!-Tuple{Finch.VirtualFiber, Finch.LowerJulia, Any, Vararg{Any}}"><code>Finch.initialize!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">initialize!(fbr, ctx, mode)</code></pre><p>Initialize the virtual fiber to it&#39;s default value in the context <code>ctx</code> with access mode <code>mode</code>. Return the new fiber object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/fibers.jl#L64-L69">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.initialize_level!" href="#Finch.initialize_level!"><code>Finch.initialize_level!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">initialize_level!(fbr, ctx, mode)</code></pre><p>Initialize the level within the virtual fiber to it&#39;s default value in the context <code>ctx</code> with access mode <code>mode</code>. Return the new level.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/fibers.jl#L78-L83">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.interval_assembly_depth-Tuple{Any}" href="#Finch.interval_assembly_depth-Tuple{Any}"><code>Finch.interval_assembly_depth</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">interval_assembly_depth(lvl)</code></pre><p>to what depth will the level tolerate interval environment properties for assembly?</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/environments.jl#L153-L157">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.pattern!-Tuple{Fiber}" href="#Finch.pattern!-Tuple{Fiber}"><code>Finch.pattern!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">pattern!(fbr)</code></pre><p>Return the pattern of <code>fbr</code>. That is, return a fiber which is true wherever <code>fbr</code> is structurally unequal to it&#39;s default. May reuse memory and render the original fiber unusable when modified.</p><pre><code class="language-julia-repl hljs">julia&gt; A = Finch.Fiber(SparseList(10, [1, 6], [1, 3, 5, 7, 9], Element{0.0}([2.0, 3.0, 4.0, 5.0, 6.0])))
SparseList (0.0) [1:10]
│ 
└─[1] [3] [5] [7] [9]
  2.0 3.0 4.0 5.0 6.0

julia&gt; pattern!(A)
SparseList (false) [1:10]
│ 
└─[1]  [3]  [5]  [7]  [9] 
  true true true true true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/patternlevels.jl#L23-L43">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.reinitializeable-Tuple{Any}" href="#Finch.reinitializeable-Tuple{Any}"><code>Finch.reinitializeable</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">reinitializeable(lvl)</code></pre><p>Does the level support selective initialization through assembly?</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/environments.jl#L139-L143">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.setname" href="#Finch.setname"><code>Finch.setname</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">setname(ex, name)</code></pre><p>Return a new expression, identical to <code>ex</code>, with the name <code>name</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/semantics.jl#L34-L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.@fiber-Tuple{Any}" href="#Finch.@fiber-Tuple{Any}"><code>Finch.@fiber</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@fiber ctr</code></pre><p>Construct a fiber using abbreviated level constructor names. To override abbreviations, expressions may be interpolated with <code>$</code>. For example, <code>Fiber(DenseLevel(SparseListLevel(Element(0.0))))</code> can also be constructed as <code>@fiber(sl(d(e(0.0))))</code>. Consult the documentation for the helper function <a href="@ref">f_code</a> for a full listing of level format codes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/355cb7f69f23deec27a06e2ad2f765c465710bf5/src/fibers.jl#L260-L268">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../level/">« Level Formats</a><a class="docs-footer-nextpage" href="../embed/">Embedding »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.10 on <span class="colophon-date" title="Saturday 22 October 2022 19:26">Saturday 22 October 2022</span>. Using Julia version 1.8.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
