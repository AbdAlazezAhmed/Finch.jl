<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>The Deets · Finch.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://willow-ahrens.github.io/Finch.jl/listing/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="Finch.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">Finch.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../fibers/">Array Formats</a></li><li class="is-active"><a class="tocitem" href>The Deets</a></li><li><a class="tocitem" href="../embed/">Embedding</a></li><li><a class="tocitem" href="../algebra/">Custom Functions</a></li><li><a class="tocitem" href="../development/">Development Guide</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>The Deets</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>The Deets</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/willow-ahrens/Finch.jl/blob/main/docs/src/listing.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Public-Functions"><a class="docs-heading-anchor" href="#Public-Functions">Public Functions</a><a id="Public-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Public-Functions" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="Finch.DenseData" href="#Finch.DenseData"><code>Finch.DenseData</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DenseData(lvl)</code></pre><p>Represents a tensor <code>A</code> where each <code>A[:, ..., :, i]</code> is represented by <code>lvl</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/traits.jl#L17-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.ElementData" href="#Finch.ElementData"><code>Finch.ElementData</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ElementData(default, eltype)</code></pre><p>Represents a scalar element of type <code>eltype</code> and default <code>default</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/traits.jl#L56-L60">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.ExtrudeData" href="#Finch.ExtrudeData"><code>Finch.ExtrudeData</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ExtrudeData(lvl)</code></pre><p>Represents a tensor <code>A</code> where <code>A[:, ..., :, 1]</code> is the only slice, and is represented by <code>lvl</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/traits.jl#L30-L34">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.Fiber" href="#Finch.Fiber"><code>Finch.Fiber</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Fiber(lvl)</code></pre><p><code>Fiber</code> represents the root of a level-tree tensor. To easily construct a valid fiber, use <a href="../fibers/#Finch.@fiber"><code>@fiber</code></a> or <a href="../fibers/#Finch.fiber"><code>fiber</code></a>. Users should avoid calling this constructor directly.</p><p>In particular, <code>Fiber</code> represents the tensor at position 1 of <code>lvl</code>. The constructor <code>Fiber(lvl)</code> wraps a level assuming it is already in a valid state. The constructor <code>Fiber!(lvl)</code> first initializes <code>lvl</code> assuming no positions are valid.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/fibers.jl#L4-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.HollowData" href="#Finch.HollowData"><code>Finch.HollowData</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">HollowData(lvl)</code></pre><p>Represents a tensor which is represented by <code>lvl</code> but is sometimes entirely <code>default(lvl)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/traits.jl#L43-L47">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.InstantiateTensors" href="#Finch.InstantiateTensors"><code>Finch.InstantiateTensors</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">InstantiateTensors(ctx)</code></pre><p>A transformation to instantiate readers and updaters before executing an expression</p><p>See also: <a href="#Finch.declare!-Tuple{Any, Any, Any}"><code>declare!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/lower.jl#L201-L208">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.LowerJulia-Tuple{Any, Finch.DimensionalizeStyle}" href="#Finch.LowerJulia-Tuple{Any, Finch.DimensionalizeStyle}"><code>Finch.LowerJulia</code></a> — <span class="docstring-category">Method</span></header><section><div><p>TODO out of date     dimensionalize!(prgm, ctx)</p><p>A program traversal which gathers dimensions of tensors based on shared indices. Index sharing is transitive, so <code>A[i] = B[i]</code> and <code>B[j] = C[j]</code> will induce a gathering of the dimensions of <code>A</code>, <code>B</code>, and <code>C</code> into one. The resulting dimensions are gathered into a <code>Dimensions</code> object, which can be accesed with an index name or a <code>(tensor_name, mode_name)</code> tuple.</p><p>The program is assumed to be in SSA form.</p><p>See also: <a href="#Finch.virtual_size"><code>virtual_size</code></a>, <a href="@ref"><code>virtual_resize</code></a>, <a href="#Finch.combinedim-Tuple{Any, Any, Any}"><code>combinedim</code></a>, <a href="@ref"><code>TransformSSA</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/dimensionalize.jl#L54-L68">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.PatternLevel" href="#Finch.PatternLevel"><code>Finch.PatternLevel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">PatternLevel{D, [Tv]}()</code></pre><p>A subfiber of a pattern level is the Boolean value true, but it&#39;s <code>default</code> is false. PatternLevels are used to create tensors that represent which values are stored by other fibers. See <a href="@ref"><code>pattern</code></a> for usage examples.</p><p>In the <a href="@ref">@fiber</a> constructor, <code>p</code> is an alias for <code>ElementLevel</code>.</p><pre><code class="language-julia-repl hljs">julia&gt; @fiber(d(p(), 3))
Dense [1:3]
├─[1]: true
├─[2]: true
├─[3]: true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/levels/patternlevels.jl#L1-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.RepeatData" href="#Finch.RepeatData"><code>Finch.RepeatData</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">RepeatData(default, eltype)</code></pre><p>Represents an array A[i] with many repeated runs of elements of type <code>eltype</code> and default <code>default</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/traits.jl#L70-L75">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.RepeatRLELevel" href="#Finch.RepeatRLELevel"><code>Finch.RepeatRLELevel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">RepeatRLELevel{[D], [Ti=Int], [Tp=Int], [Tv=typeof(D)]}([dim])</code></pre><p>A subfiber of a repeat level is a vector that only stores contiguous repeated values once. The RepeatRLELevel records locations of repeats using a sorted list. Optionally, <code>dim</code> is the size of the vectors.</p><p>The fibers have type <code>Tv</code>, initialized to <code>D</code>. <code>D</code> may optionally be given as the first argument.  <code>Ti</code> is the type of the last fiber index, and <code>Tp</code> is the type used for positions in the level.</p><p>In the <a href="@ref">@fiber</a> constructor, <code>rl</code> is an alias for <code>RepeatRLELevel</code>.</p><pre><code class="language-julia-repl hljs">julia&gt; @fiber(rl(0.0), [11, 11, 22, 22, 00, 00, 00, 33, 33])
RepeatRLE (0.0) [1:9]
├─[1:2]: 11.0
├─[3:4]: 22.0
├─[5:7]: 0.0
├─[8:9]: 33.0
├─[10:9]: 0.0
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/levels/repeatrlelevels.jl#L1-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.SparseData" href="#Finch.SparseData"><code>Finch.SparseData</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SparseData(lvl)</code></pre><p>Represents a tensor <code>A</code> where <code>A[:, ..., :, i]</code> is sometimes entirely default(lvl) and is sometimes represented by <code>lvl</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/traits.jl#L3-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.SubFiber" href="#Finch.SubFiber"><code>Finch.SubFiber</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SubFiber(lvl, pos)</code></pre><p><code>SubFiber</code> represents a fiber at position <code>pos</code> within <code>lvl</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/fibers.jl#L30-L34">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.base_rules-Tuple{Any, Any}" href="#Finch.base_rules-Tuple{Any, Any}"><code>Finch.base_rules</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">base_rules(alg, shash)</code></pre><p>The basic rule set for Finch, uses the algebra to check properties of functions like associativity, commutativity, etc. <code>shash</code> is an object that can be called to return a static hash value.  . This rule set simplifies, normalizes, and propagates constants, and is the basis for how Finch understands sparsity.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/annihilate.jl#L214-L221">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.choose-Tuple{Any}" href="#Finch.choose-Tuple{Any}"><code>Finch.choose</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">choose(z)(a, b)</code></pre><p><code>choose(z)</code> is a function which returns whichever of <code>a</code> or <code>b</code> is not <a href="@ref">isequal</a> to <code>z</code>. If neither are <code>z</code>, then return <code>a</code>. Useful for getting the first nonfill value in a sparse array.</p><pre><code class="language-julia-repl hljs">julia&gt; a = @fiber(sl(e(0.0)), [0, 1.1, 0, 4.4, 0])
SparseList (0.0) [1:5]
├─[2]: 1.1
├─[4]: 4.4

julia&gt; x = Scalar(0.0); @finch @loop i x[] &lt;&lt;choose(0.0)&gt;&gt;= a[i];

julia&gt; x[]
1.1</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/annihilate.jl#L14-L31">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.collapse_rep-Tuple{Any}" href="#Finch.collapse_rep-Tuple{Any}"><code>Finch.collapse_rep</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">data_rep(tns)</code></pre><p>Normalize a trait object to collapse subfiber information into the parent fiber.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/traits.jl#L95-L99">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.combinedim-Tuple{Any, Any, Any}" href="#Finch.combinedim-Tuple{Any, Any, Any}"><code>Finch.combinedim</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">combinedim(ctx, a, b)</code></pre><p>Combine the two dimensions <code>a</code> and <code>b</code>.  To avoid ambiguity, only define one of</p><pre><code class="nohighlight hljs">combinedim(ctx, ::A, ::B)
combinedim(ctx, ::B, ::A)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/dimensionalize.jl#L192-L201">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.countstored-Tuple{Fiber}" href="#Finch.countstored-Tuple{Fiber}"><code>Finch.countstored</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">countstored(arr)</code></pre><p>Return the number of stored elements in <code>arr</code>. If there are explicitly stored default elements, they are counted too.</p><p>See also: (<code>nnz</code>)(https://docs.julialang.org/en/v1/stdlib/SparseArrays/#SparseArrays.nnz)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/fibers.jl#L312-L319">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.data_rep-Tuple{Any}" href="#Finch.data_rep-Tuple{Any}"><code>Finch.data_rep</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">data_rep(tns)</code></pre><p>Return a trait object representing everything that can be learned about the data based on the storage format (type) of the tensor</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/traits.jl#L85-L90">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.declare!-Tuple{Any, Any, Any}" href="#Finch.declare!-Tuple{Any, Any, Any}"><code>Finch.declare!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">declare!(tns, ctx, init)</code></pre><p>Declare the read-only virtual tensor <code>tns</code> in the context <code>ctx</code> with a starting value of <code>init</code> and return it. Afterwards the tensor is update-only.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/execute.jl#L88-L93">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.declare_level!" href="#Finch.declare_level!"><code>Finch.declare_level!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">declare_level!(lvl, ctx, pos, init)</code></pre><p>Initialize and thaw all fibers within <code>lvl</code>, assuming positions <code>1:pos</code> were previously assembled and frozen. The resulting level has no assembled positions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/fibers.jl#L111-L116">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.f_code-Tuple{Val{:d}}" href="#Finch.f_code-Tuple{Val{:d}}"><code>Finch.f_code</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>f_code(d)</code> = <a href="@ref">DenseLevel</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/levels/denselevels.jl#L39-L41">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.f_code-Tuple{Val{:e}}" href="#Finch.f_code-Tuple{Val{:e}}"><code>Finch.f_code</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>f_code(e)</code> = <a href="@ref">ElementLevel</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/levels/elementlevels.jl#L31-L33">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.f_code-Tuple{Val{:p}}" href="#Finch.f_code-Tuple{Val{:p}}"><code>Finch.f_code</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>f_code(p)</code> = <a href="@ref">PatternLevel</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/levels/patternlevels.jl#L21-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.f_code-Tuple{Val{:rl}}" href="#Finch.f_code-Tuple{Val{:rl}}"><code>Finch.f_code</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>f_code(rl)</code> = <a href="@ref">RepeatRLELevel</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/levels/repeatrlelevels.jl#L45-L47">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.f_code-Tuple{Val{:sbm}}" href="#Finch.f_code-Tuple{Val{:sbm}}"><code>Finch.f_code</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>f_code(sbm)</code> = <a href="@ref">SparseByteMapLevel</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/levels/sparsebytemaplevels.jl#L18-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.f_code-Tuple{Val{:sc}}" href="#Finch.f_code-Tuple{Val{:sc}}"><code>Finch.f_code</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>f_code(sc)</code> = <a href="@ref">SparseCOOLevel</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/levels/sparsecoolevels.jl#L58-L60">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.f_code-Tuple{Val{:sh}}" href="#Finch.f_code-Tuple{Val{:sh}}"><code>Finch.f_code</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>f_code(sh)</code> = <a href="@ref">SparseHashLevel</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/levels/sparsehashlevels.jl#L60-L62">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.f_code-Tuple{Val{:sl}}" href="#Finch.f_code-Tuple{Val{:sl}}"><code>Finch.f_code</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>f_code(l)</code> = <a href="@ref">SparseListLevel</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/levels/sparselistlevels.jl#L52-L54">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.f_code-Tuple{Val{:svb}}" href="#Finch.f_code-Tuple{Val{:svb}}"><code>Finch.f_code</code></a> — <span class="docstring-category">Method</span></header><section><div><p><code>f_code(svb)</code> = <a href="@ref">SparseVBLLevel</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/levels/sparsevbllevels.jl#L19-L21">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.ffindnz-Tuple{Any}" href="#Finch.ffindnz-Tuple{Any}"><code>Finch.ffindnz</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ffindnz(arr)</code></pre><p>Return the nonzero elements of <code>arr</code>, as Finch understands <code>arr</code>. Returns <code>(I, V)</code>, where <code>I</code> is a tuple of coordinate vectors, one for each mode of <code>arr</code>, and <code>V</code> is a vector of corresponding nonzero values, which can be passed to <a href="#Finch.fsparse"><code>fsparse</code></a>.</p><p>See also: (<code>findnz</code>)(https://docs.julialang.org/en/v1/stdlib/SparseArrays/#SparseArrays.findnz)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/base/fsparse.jl#L183-L192">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.fiber!-Tuple{Any}" href="#Finch.fiber!-Tuple{Any}"><code>Finch.fiber!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fiber!(arr, default = zero(eltype(arr)))</code></pre><p>Like <a href="#Finch.fiber"><code>fiber</code></a>, copies an array-like object <code>arr</code> into a corresponding, similar <code>Fiber</code> datastructure. However, <code>fiber!</code> reuses memory whenever possible, meaning <code>arr</code> may be rendered unusable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/base/fsparse.jl#L1-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.fiber-Tuple{Any}" href="#Finch.fiber-Tuple{Any}"><code>Finch.fiber</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fiber(arr, default = zero(eltype(arr)))</code></pre><p>Copies an array-like object <code>arr</code> into a corresponding, similar <code>Fiber</code> datastructure. <code>default</code> is the default value to use for initialization and sparse compression.</p><p>See also: <a href="#Finch.fiber!"><code>fiber!</code></a></p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; println(summary(fiber(sparse([1 0; 0 1]))))
2×2 @fiber(d(sl(e(0))))

julia&gt; println(summary(fiber(ones(3, 2, 4))))
3×2×4 @fiber(d(d(d(e(0.0)))))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/base/fsparse.jl#L10-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.fiber_ctr" href="#Finch.fiber_ctr"><code>Finch.fiber_ctr</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">fiber_ctr(tns, protos...)</code></pre><p>Return an expression that would construct a fiber suitable to hold data with a representation described by <code>tns</code>. Assumes representation is collapsed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/traits.jl#L121-L126">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.freeze_level!-Tuple{Any, Any, Any}" href="#Finch.freeze_level!-Tuple{Any, Any, Any}"><code>Finch.freeze_level!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">freeze_level!(lvl, ctx, pos)</code></pre><p>Freeze all fibers in <code>lvl</code>. Positions <code>1:pos</code> need freezing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/fibers.jl#L135-L139">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.fsparse" href="#Finch.fsparse"><code>Finch.fsparse</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">fsparse(I::Tuple, V,[ M::Tuple, combine])</code></pre><p>Create a sparse COO fiber <code>S</code> such that <code>size(S) == M</code> and <code>S[(i[q] for i = I)...] = V[q]</code>. The combine function is used to combine duplicates. If <code>M</code> is not specified, it is set to <code>map(maximum, I)</code>. If the combine function is not supplied, combine defaults to <code>+</code> unless the elements of V are Booleans in which case combine defaults to <code>|</code>. All elements of I must satisfy 1 &lt;= I[n][q] &lt;= M[n].  Numerical zeros are retained as structural nonzeros; to drop numerical zeros, use dropzeros!.</p><p>See also: <a href="https://docs.julialang.org/en/v1/stdlib/SparseArrays/#SparseArrays.sparse"><code>sparse</code></a></p><p><strong>Examples</strong></p><p>julia&gt; I = (     [1, 2, 3],     [1, 2, 3],     [1, 2, 3]);</p><p>julia&gt; V = [1.0; 2.0; 3.0];</p><p>julia&gt; fsparse(I, V) SparseCOO (0.0) [1:3×1:3×1:3] │ │ │  └─└─└─[1, 1, 1] [2, 2, 2] [3, 3, 3]       1.0       2.0       3.0    </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/base/fsparse.jl#L33-L60">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.fsparse!" href="#Finch.fsparse!"><code>Finch.fsparse!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">fsparse!(I::Tuple, V,[ M::Tuple])</code></pre><p>Like <a href="#Finch.fsparse"><code>fsparse</code></a>, but the coordinates must be sorted and unique, and memory is reused.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/base/fsparse.jl#L86-L91">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.fsprand-Union{Tuple{T}, Tuple{Tuple, AbstractFloat, Function, Type{T}}} where T" href="#Finch.fsprand-Union{Tuple{T}, Tuple{Tuple, AbstractFloat, Function, Type{T}}} where T"><code>Finch.fsprand</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fsprand([rng],[type], m::Tuple,p::AbstractFloat,[rfn])</code></pre><p>Create a random sparse tensor of size <code>m</code> in COO format, in which the probability of any element being nonzero is independently given by <code>p</code> (and hence the mean density of nonzeros is also exactly <code>p</code>). Nonzero values are sampled from the distribution specified by <code>rfn</code> and have the type <code>type</code>. The uniform distribution is used in case <code>rfn</code> is not specified. The optional <code>rng</code> argument specifies a random number generator.</p><p>See also: (<code>sprand</code>)(https://docs.julialang.org/en/v1/stdlib/SparseArrays/#SparseArrays.sprand)</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; fsprand(Bool, (3, 3), 0.5)
SparseCOO (false) [1:3,1:3]
├─├─[1, 1]: true
├─├─[3, 1]: true
├─├─[2, 2]: true
├─├─[3, 2]: true
├─├─[3, 3]: true  

julia&gt; fsprand(Float64, (2, 2, 2), 0.5)
SparseCOO (0.0) [1:2,1:2,1:2]
├─├─├─[2, 2, 1]: 0.6478553157718558
├─├─├─[1, 1, 2]: 0.996665291437684
├─├─├─[2, 1, 2]: 0.7491940599574348 </code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/base/fsparse.jl#L96-L124">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.fspzeros-Tuple{Any}" href="#Finch.fspzeros-Tuple{Any}"><code>Finch.fspzeros</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fspzeros([type], shape::Tuple)</code></pre><p>Create a random zero tensor of size <code>m</code>, with elements of type <code>type</code>. The tensor is in COO format.</p><p>See also: (<code>spzeros</code>)(https://docs.julialang.org/en/v1/stdlib/SparseArrays/#SparseArrays.spzeros)</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; fspzeros(Bool, (3, 3))
SparseCOO (false) [1:3,1:3]
    
julia&gt; fspzeros(Float64, (2, 2, 2))
SparseCOO (0.0) [1:2,1:2,1:2]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/base/fsparse.jl#L161-L177">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.get_reader-Tuple{Any, Any, Vararg{Any}}" href="#Finch.get_reader-Tuple{Any, Any, Vararg{Any}}"><code>Finch.get_reader</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_reader(tns, ctx, protos...)</code></pre><p>Return an object (usually a looplet nest) capable of reading the read-only virtual tensor <code>tns</code>.  As soon as a read-only tensor enters scope, each subsequent read access will be initialized with a separate call to <code>get_reader</code>. <code>protos</code> is the list of protocols in each case.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/execute.jl#L96-L103">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.get_updater-Tuple{Any, Any, Vararg{Any}}" href="#Finch.get_updater-Tuple{Any, Any, Vararg{Any}}"><code>Finch.get_updater</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_updater(tns, ctx, protos...)</code></pre><p>Return an object (usually a looplet nest) capable of updating the update-only virtual tensor <code>tns</code>.  As soon as an update only tensor enters scope, each subsequent update access will be initialized with a separate call to <code>get_updater</code>.  <code>protos</code> is the list of protocols in each case.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/execute.jl#L106-L113">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.getindex_rep-Tuple{Any, Vararg{Any}}" href="#Finch.getindex_rep-Tuple{Any, Vararg{Any}}"><code>Finch.getindex_rep</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">getindex_rep(tns, idxs...)</code></pre><p>Return a trait object representing the result of calling getindex(tns, idxs...) on the tensor represented by <code>tns</code>. Assumes traits are in collapsed form.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/base/index.jl#L5-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.getname" href="#Finch.getname"><code>Finch.getname</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getname(ex)</code></pre><p>Return the name of the index expression <code>ex</code>. The name serves as a unique identifier and often corresponds to the variable name which holds a tensor. Tensors can have the same name only if they are <code>===</code> to each other. The names of indices are used to distinguish the loops they reference.</p><p>#TODO this function shouldn&#39;t exist</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/semantics.jl#L17-L26">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.getresults-Tuple{Finch.FinchNotation.FinchNode}" href="#Finch.getresults-Tuple{Finch.FinchNotation.FinchNode}"><code>Finch.getresults</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">getresults(prgm)</code></pre><p>Return an iterator over the properly modified tensors in a finch program</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/execute.jl#L261-L265">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.getrules-Tuple{Any, Any}" href="#Finch.getrules-Tuple{Any, Any}"><code>Finch.getrules</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">getrules(alg, ctx)</code></pre><p>Return an array of rules to use for annihilation/simplification during  compilation. One can dispatch on the <code>alg</code> trait to specialize the rule set for different algebras.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/annihilate.jl#L394-L400">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.getunbound-Tuple{Any}" href="#Finch.getunbound-Tuple{Any}"><code>Finch.getunbound</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">getunbound(stmt)</code></pre><p>Return an iterator over the names in an index expression that have yet to be bound.</p><pre><code class="language-julia hljs">julia&gt; getunbound(@finch_program @loop i :a[i, j] += 2)
[j]
julia&gt; getunbound(@finch_program i + j * 2 * i)
[i, j]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/semantics.jl#L3-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.isannihilator-Tuple{Any, Any, Any}" href="#Finch.isannihilator-Tuple{Any, Any, Any}"><code>Finch.isannihilator</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">isannihilator(algebra, f, x)</code></pre><p>Return true when <code>f(a..., x, b...) = x</code> in <code>algebra</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/annihilate.jl#L157-L161">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.isassociative-Tuple{Any, Any}" href="#Finch.isassociative-Tuple{Any, Any}"><code>Finch.isassociative</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">isassociative(algebra, f)</code></pre><p>Return true when <code>f(a..., f(b...), c...) = f(a..., b..., c...)</code> in <code>algebra</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/annihilate.jl#L73-L77">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.iscommutative-Tuple{Any, Any}" href="#Finch.iscommutative-Tuple{Any, Any}"><code>Finch.iscommutative</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">iscommutative(algebra, f)</code></pre><p>Return true when for all permutations p, <code>f(a...) = f(a[p]...)</code> in <code>algebra</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/annihilate.jl#L93-L97">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.isdistributive-Tuple{Any, Any, Any}" href="#Finch.isdistributive-Tuple{Any, Any, Any}"><code>Finch.isdistributive</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">isidempotent(algebra, f)</code></pre><p>Return true when <code>f(a, b) = f(f(a, b), b)</code> in <code>algebra</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/annihilate.jl#L111-L115">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.isidempotent-Tuple{Any, Any}" href="#Finch.isidempotent-Tuple{Any, Any}"><code>Finch.isidempotent</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">isidempotent(algebra, f)</code></pre><p>Return true when <code>f(a, b) = f(f(a, b), b)</code> in <code>algebra</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/annihilate.jl#L121-L125">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.isidentity-Tuple{Any}" href="#Finch.isidentity-Tuple{Any}"><code>Finch.isidentity</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">isidentity(algebra, f, x)</code></pre><p>Return true when <code>f(a..., x, b...) = f(a..., b...)</code> in <code>algebra</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/annihilate.jl#L134-L138">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.isinverse-Tuple{Any, Any, Any}" href="#Finch.isinverse-Tuple{Any, Any, Any}"><code>Finch.isinverse</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">isinverse(algebra, f, g)</code></pre><p>Return true when <code>f(a, g(a))</code> is the identity under <code>f</code> in <code>algebra</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/annihilate.jl#L174-L178">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.isinvolution-Tuple{Any, Any}" href="#Finch.isinvolution-Tuple{Any, Any}"><code>Finch.isinvolution</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">isinvolution(algebra, f)</code></pre><p>Return true when <code>f(f(a)) = a</code> in <code>algebra</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/annihilate.jl#L185-L189">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.lift_broadcast-Union{Tuple{Base.Broadcast.Broadcasted{Style, Axes, F}}, Tuple{F}, Tuple{Axes}, Tuple{Style}} where {Style, Axes, F&lt;:Function}" href="#Finch.lift_broadcast-Union{Tuple{Base.Broadcast.Broadcasted{Style, Axes, F}}, Tuple{F}, Tuple{Axes}, Tuple{Style}} where {Style, Axes, F&lt;:Function}"><code>Finch.lift_broadcast</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">lift_broadcast(bc)</code></pre><p>Attempt to lift broadcast fields to the type domain for Finch analysis</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/base/broadcast.jl#L20-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.maxby-Tuple{Any, Any}" href="#Finch.maxby-Tuple{Any, Any}"><code>Finch.maxby</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">maxby(a, b)</code></pre><p>Return the max of <code>a</code> or <code>b</code>, comparing them by <code>a[1]</code> and <code>b[1]</code>, and breaking ties to the left. Useful for implementing argmax operations:</p><pre><code class="language-julia-repl hljs">julia&gt; a = [7.7, 3.3, 9.9, 3.3, 9.9]; x = Scalar(-Inf =&gt; 0);

julia&gt; @finch @loop i x[] &lt;&lt;maxby&gt;&gt;= a[i] =&gt; i;

julia&gt; x[]
9.9 =&gt; 3</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/annihilate.jl#L50-L63">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.minby-Tuple{Any, Any}" href="#Finch.minby-Tuple{Any, Any}"><code>Finch.minby</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">minby(a, b)</code></pre><p>Return the min of <code>a</code> or <code>b</code>, comparing them by <code>a[1]</code> and <code>b[1]</code>, and breaking ties to the left. Useful for implementing argmin operations:</p><pre><code class="language-julia-repl hljs">julia&gt; a = [7.7, 3.3, 9.9, 3.3, 9.9]; x = Scalar(Inf =&gt; 0);

julia&gt; @finch @loop i x[] &lt;&lt;minby&gt;&gt;= a[i] =&gt; i;

julia&gt; x[]
3.3 =&gt; 2</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/annihilate.jl#L34-L47">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.pattern!-Tuple{Fiber}" href="#Finch.pattern!-Tuple{Fiber}"><code>Finch.pattern!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">pattern!(fbr)</code></pre><p>Return the pattern of <code>fbr</code>. That is, return a fiber which is true wherever <code>fbr</code> is structurally unequal to it&#39;s default. May reuse memory and render the original fiber unusable when modified.</p><pre><code class="language-julia-repl hljs">julia&gt; A = @fiber(sl(e(0.0), 10), [2.0, 0.0, 3.0, 0.0, 4.0, 0.0, 5.0, 0.0, 6.0, 0.0])
SparseList (0.0) [1:10]
├─[1]: 2.0
├─[3]: 3.0
├─[5]: 4.0
├─[7]: 5.0
├─[9]: 6.0

julia&gt; pattern!(A)
SparseList (false) [1:10]
├─[1]: true
├─[3]: true
├─[5]: true
├─[7]: true
├─[9]: true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/levels/patternlevels.jl#L47-L71">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.redefault!-Tuple{Fiber, Any}" href="#Finch.redefault!-Tuple{Fiber, Any}"><code>Finch.redefault!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">redefault!(fbr, init)</code></pre><p>Return a fiber which is equal to <code>fbr</code>, but with the default (implicit) value set to <code>init</code>.  May reuse memory and render the original fiber unusable when modified.</p><pre><code class="language-julia-repl hljs">julia&gt; A = @fiber(sl(e(0.0), 10), [2.0, 0.0, 3.0, 0.0, 4.0, 0.0, 5.0, 0.0, 6.0, 0.0])
SparseList (0.0) [1:10]
├─[1]: 2.0
├─[3]: 3.0
├─[5]: 4.0
├─[7]: 5.0
├─[9]: 6.0

julia&gt; redefault!(A, Inf)
SparseList (Inf) [1:10]
├─[1]: 2.0
├─[3]: 3.0
├─[5]: 4.0
├─[7]: 5.0
├─[9]: 6.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/fibers.jl#L185-L209">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.reduce_rep" href="#Finch.reduce_rep"><code>Finch.reduce_rep</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">reduce_rep(op, tns, dims)</code></pre><p>Return a trait object representing the result of reducing a tensor represented by <code>tns</code> on <code>dims</code> by <code>op</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/base/mapreduce.jl#L6-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.scansearch-Union{Tuple{T}, Tuple{Any, Any, T, T}} where T&lt;:Integer" href="#Finch.scansearch-Union{Tuple{T}, Tuple{Any, Any, T, T}} where T&lt;:Integer"><code>Finch.scansearch</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">scansearch(v, x, lo, hi)</code></pre><p>return the first value of <code>v</code> greater than or equal to <code>x</code>, within the range <code>lo:hi</code>. Return <code>hi+1</code> if all values are less than <code>x</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/util.jl#L367-L372">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.setname" href="#Finch.setname"><code>Finch.setname</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">setname(ex, name)</code></pre><p>Return a new expression, identical to <code>ex</code>, with the name <code>name</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/semantics.jl#L29-L33">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.striplines-Tuple{Expr}" href="#Finch.striplines-Tuple{Expr}"><code>Finch.striplines</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">striplines(ex)</code></pre><p>Remove line numbers</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/util.jl#L351-L354">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.thaw!-Tuple{Any, Any}" href="#Finch.thaw!-Tuple{Any, Any}"><code>Finch.thaw!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">thaw!(tns, ctx)</code></pre><p>Thaw the read-only virtual tensor <code>tns</code> in the context <code>ctx</code> and return it. Afterwards, the tensor is update-only.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/execute.jl#L124-L129">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.trim!-Tuple{Any, Any}" href="#Finch.trim!-Tuple{Any, Any}"><code>Finch.trim!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">trim!(tns, ctx)</code></pre><p>Before returning a tensor from the finch program, trim any excess overallocated memory.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/execute.jl#L132-L136">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.unblock-Tuple{Expr}" href="#Finch.unblock-Tuple{Expr}"><code>Finch.unblock</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">unblock(ex)</code></pre><p>Flatten any redundant blocks into a single block, over the whole expression.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/util.jl#L324-L327">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.unresolve-Tuple{Any}" href="#Finch.unresolve-Tuple{Any}"><code>Finch.unresolve</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">unresolve(ex)</code></pre><p>Unresolve function literals into function symbols</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/util.jl#L341-L344">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.virtual_size" href="#Finch.virtual_size"><code>Finch.virtual_size</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">virtual_size(tns, ctx)</code></pre><p>Return a tuple of the dimensions of <code>tns</code> in the context <code>ctx</code> with access mode <code>mode</code>. This is a function similar in spirit to <code>Base.axes</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/dimensionalize.jl#L334-L339">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Finch.@fiber-Tuple{Any}" href="#Finch.@fiber-Tuple{Any}"><code>Finch.@fiber</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@fiber ctr [arg]</code></pre><p>Construct a fiber using abbreviated level constructor names. To override abbreviations, expressions may be interpolated with <code>$</code>. For example, <code>Fiber(DenseLevel(SparseListLevel(Element(0.0))))</code> can also be constructed as <code>@fiber(sl(d(e(0.0))))</code>. Consult the documentation for the helper function <a href="@ref">f_code</a> for a full listing of level format codes.</p><p>Optionally, an argument may be specified to copy into the fiber. This expression allocates. Use <code>fiber(arg)</code> for a zero-cost copy, if available.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/willow-ahrens/Finch.jl/blob/4a5c876c504ffa79ac44063ff7236a2b2d01ab46/src/fibers.jl#L336-L347">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../fibers/">« Array Formats</a><a class="docs-footer-nextpage" href="../embed/">Embedding »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Tuesday 25 April 2023 22:59">Tuesday 25 April 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
